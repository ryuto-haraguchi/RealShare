<% content_for :css do%>
  <%= stylesheet_link_tag 'public/users/index', media: 'all', 'data-turbolinks-track': 'reload' %>
<% end %>

<div class="container">
  <div class="row">
    <div class="col-6 offset-3 text-center mt-5 mb-3">
      <h2>ユーザー <i class="fa-duotone fa-solid fa-users"></i> 一覧</h2>
    </div>
    <table class="table">
      <thead>
        <tr>
          <th></th> <%# プロフィールイメージ %>
          <th class="text-center">ユーザーネーム</th>
          <th class="text-center">お住まいの地域</th>
          <th class="text-center">投稿数</th>
          <th></th> <%# 公開・非公開設定%>
        </tr>
      </thead>
      <tbody>
        <% @users.each do |user| %>
          <tr>
            <td class="col-2 text-center"><%= image_tag user.get_profile_image(50, 50) %></td>
            <td class="col-3 text-center align-middle"><%= user.name %></td>
            <td class="col-3 text-center align-middle"><%= user.prefecture %></td>
            <td class="col-2 text-center align-middle"><%= user.posts.count %></td>
            <td class="col-2 text-center align-middle">
              <% if user.is_public == true %>
                <i class="fa-solid fa-unlock"></i>
              <% else %>
                <i class="fa-solid fa-lock"></i>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>